<html>
	<head>
		<title>Penguin game</title>
	</head>
	<body>
		<canvas id="canvas" height="600" width="800" style="border: 2px solid black"></canvas>
	</body>
	<script src="class.js"></script>
	<script src="keyboard.js"></script>

<script>

var gameTick = 60;
var ctx = document.getElementById("canvas").getContext('2d');


var pressLeft = false;
var pressRight = false;

var lastFrameTimeMs = 0;
var maxFPS = 60;


var presArray = [];

window.onload = function() {

	console.log("Window loaded");

	var img = new Image();
	img.src = "penguin.png";
	var player = new Player(200, 500, img);

	var img2 = new Image();
	img2.src = "present.png";
	var present = new Present(300, 0, img2);
	presArray.push(present);

	var wait = 0;

	function gameLoop(timestamp) {

		ctx.clearRect(0, 0, 800, 600);

		if (wait <= 30) {
			wait++;
		} else {
			presArray.push(new Present(Math.floor(Math.random()*500), -50, img2));
			wait = 0;
		}

		player.update();

		// Update position of all presents
		for (var i = 0; i < presArray.length; i++) {
			presArray[i].update()
		}

		requestAnimationFrame(gameLoop);
	}

	requestAnimationFrame(gameLoop);

}

</script>	
</html>